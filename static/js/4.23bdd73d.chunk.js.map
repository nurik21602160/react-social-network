{"version":3,"sources":["components/Users/Users.module.css","../node_modules/classnames/index.js","components/Users/Users.js","redux/selectors.js","components/Users/UsersContainer.js"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Users","props","pageCounts","Math","ceil","totalUsersCount","pageSize","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","cn","s","paginator","onClick","filter","p","map","selectedPage","currentPage","pageNumber","e","currentPageChange","users","u","photo","to","id","src","photos","small","photoUrl","followed","disabled","followInProgress","some","setFollowInProgress","unfollow","follow","name","status","usersSelector","state","usersPage","pageSizeSelector","totalUsersCountSelector","currentPageSelector","isFetchingSelector","isFetching","followInProgressSelector","UsersAPIComponent","currentPageThunk","this","usersGet","Preloader","unfollowThunk","followThunk","setProfilePageId","React","Component","compose","connect","setUsers","setUsersActionCreator","setCurrentPage","currentPageActionCreator","setUsersTotalCount","setUsersTotalCountActionCreator","setIsFetching","isFetchingActionCreator","followInProgressActionCreator","usersGetThunk","withAuthRedirect"],"mappings":"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","file":"static/js/4.23bdd73d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"Users_photo__2hOPg\",\"activePage\":\"Users_activePage__28hh7\",\"paginator\":\"Users_paginator__1zXC5\",\"pageNumber\":\"Users_pageNumber__3oN48\",\"selectedPage\":\"Users_selectedPage__J63sh\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\nimport s from './Users.module.css'\nimport photoUrl from '../../assets/images/user.jpg'\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport cn from 'classnames'\n\n\nlet Users = (props) => {\n    let pageCounts = Math.ceil(props.totalUsersCount / props.pageSize);\n\n    let pages = [];\n\n    for (let i = 1; i <= pageCounts; i++) {\n        pages.push(i);\n    }\n\n    let portionSize = 10;\n\n    let portionCount = Math.ceil(pageCounts / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return (\n        <div>\n            <div className={cn(s.paginator)}>\n                {portionNumber > 1 &&\n                    <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\n\n                {pages\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                    .map((p) => {\n                        return <span className={cn({\n                            [s.selectedPage]: props.currentPage === p\n                        }, s.pageNumber)}\n                            key={p}\n                            onClick={(e) => {\n                                props.currentPageChange(p);\n                            }}>{p}</span>\n                    })}\n                {portionCount > portionNumber &&\n                    <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\n            </div>\n            {\n                props.users.map(u => <div key={u.id}>\n                    <span>\n                        <div className={s.photo}>\n                            <NavLink to={'/profile/' + u.id}>\n                                <img src={u.photos.small != null ? u.photos.small : photoUrl} />\n                            </NavLink>\n                        </div>\n                        <div>\n                            {u.followed ?\n                                <button disabled={props.followInProgress.some(id => id === u.id)} onClick={() => { \n                                    props.setFollowInProgress(true, u.id)\n                                    props.unfollow(u.id)\n                                }}>unfollow</button>\n                                :\n                                <button disabled={props.followInProgress.some(id => id === u.id)} onClick={() => { \n                                    props.setFollowInProgress(true, u.id)\n                                    props.follow(u.id)\n                                }}>follow</button>}\n                        </div>\n                    </span>\n                    <span>\n                        <div>{u.name}</div>\n                        <div>{u.status}</div>\n                    </span>\n                    <span>\n                        <div>{\"u.location.counrty\"}</div>\n                        <div>{\"u.location.city\"}</div>\n                    </span>\n                </div>)\n            }\n        </div>\n    )\n}\n\nexport default Users;","export let usersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport let pageSizeSelector = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport let totalUsersCountSelector = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport let currentPageSelector = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport let isFetchingSelector = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport let followInProgressSelector = (state) => {\n    return state.usersPage.followInProgress\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { currentPageActionCreator, setUsersActionCreator,\n         setUsersTotalCountActionCreator, isFetchingActionCreator,\n         followInProgressActionCreator, usersGetThunk, currentPageThunk,\n         unfollowThunk, followThunk } from './../../redux/usersPageReducer'\nimport Users from './Users';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\nimport { compose } from 'redux';\nimport Preloader from '../Preloader/Preloader';\nimport { currentPageSelector, followInProgressSelector, isFetchingSelector, pageSizeSelector, totalUsersCountSelector, usersSelector } from '../../redux/selectors';\n\nclass UsersAPIComponent extends React.Component {\n\n    componentDidMount() {\n        this.props.usersGet(this.props.currentPage, this.props.pageSize)\n    }\n\n    currentPageChange = (pageNumber) => {\n        this.props.currentPageThunk(pageNumber, this.props.pageSize)\n    };\n\n\n    \n    render() {\n        return <>\n        { this.props.isFetching ? <Preloader /> : null }\n        <Users totalUsersCount={this.props.totalUsersCount}\n                      pageSize={this.props.pageSize}\n                      currentPage={this.props.currentPage}\n                      users={this.props.users}\n                      unfollow={this.props.unfollowThunk}\n                      follow={this.props.followThunk}\n                      currentPageChange={this.currentPageChange}\n                      setProfilePageId={this.props.setProfilePageId}\n                      setFollowInProgress={this.props.setFollowInProgress}\n                      followInProgress={this.props.followInProgress} />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return{\n        users: usersSelector(state),\n        pageSize: pageSizeSelector(state),\n        totalUsersCount: totalUsersCountSelector(state),\n        currentPage: currentPageSelector(state),\n        isFetching: isFetchingSelector(state),\n        followInProgress: followInProgressSelector(state),\n    }\n}\n\n\nexport default compose(\n    connect(mapStateToProps, { setUsers: setUsersActionCreator,\n        setCurrentPage: currentPageActionCreator,\n        setUsersTotalCount: setUsersTotalCountActionCreator,\n        setIsFetching: isFetchingActionCreator,\n        setFollowInProgress: followInProgressActionCreator,\n        usersGet: usersGetThunk,\n        currentPageThunk: currentPageThunk,\n        unfollowThunk: unfollowThunk,\n        followThunk: followThunk\n    }),\n    withAuthRedirect\n)(UsersAPIComponent)"],"sourceRoot":""}